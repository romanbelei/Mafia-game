{"version":3,"sources":["components/Header/Header.module.css","store/slices/userSlice.js","store/index.js","hooks/use-auth.js","components/Button/Button.jsx","components/Header/Header.jsx","pages/HomePage.jsx","components/Form.jsx","components/Login.jsx","pages/LoginPage.jsx","components/SignUp.jsx","pages/RegisterPage.jsx","App.js","firebase.js","index.js"],"names":["module","exports","userSlice","createSlice","name","initialState","email","token","id","reducers","setUser","state","action","payload","removeUser","actions","store","configureStore","reducer","user","userReducer","useAuth","useSelector","isAuth","Button","text","onClick","className","type","Header","dispatch","useDispatch","style","header","gameName","singUp","HomePage","to","Form","handleClick","useForm","mode","register","errors","formState","handleSubmit","reset","onSubmit","data","password","required","height","message","passsword","Login","push","useHistory","auth","getAuth","signInWithEmailAndPassword","then","console","log","uid","accessToken","catch","alert","LoginPage","SignUp","createUserWithEmailAndPassword","error","RegisterPage","App","exact","path","component","app","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f8f132e8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"gameName\":\"Header_gameName__2EWC3\",\"singIn\":\"Header_singIn__1khwA\",\"singUp\":\"Header_singUp__2FCEJ\"};","import {createSlice} from '@reduxjs/toolkit';\n\nconst initialState = {\n    email: null,\n    token: null,\n    id: null,\n};\n\nconst userSlice = createSlice({\n    name: 'user',\n    initialState,\n    reducers: {\n        setUser(state, action) {\n            state.email = action.payload.email;\n            state.token = action.payload.token;\n            state.id = action.payload.id;\n        },\n        removeUser(state) {\n            state.email = null;\n            state.token = null;\n            state.id = null;\n        },\n    },\n});\n\nexport const {setUser, removeUser} = userSlice.actions;\n\nexport default userSlice.reducer;\n","import {configureStore} from '@reduxjs/toolkit';\nimport userReducer from './slices/userSlice';\n\nexport const store = configureStore({\n    reducer: {\n        user: userReducer,\n    }\n});","import {useSelector} from 'react-redux';\n\nexport function useAuth() {\n    const {email, token, id} = useSelector(state => state.user);\n\n    return {\n        isAuth: !!email,\n        email,\n        token,\n        id,\n    };\n}","// import style from './Button.module.css';\n\nexport const Button = ({ name, text, onClick }) => {\n  return (\n    <form className={name}>\n      <button type=\"button\" onClick={() => onClick()}>\n        {text}\n      </button>\n    </form>\n  );\n};\n","import { useDispatch } from 'react-redux';\nimport { useAuth } from 'hooks/use-auth';\nimport { removeUser } from 'store/slices/userSlice';\nimport style from './Header.module.css';\nimport { Button } from '../Button';\n\nexport function Header() {\n  const dispatch = useDispatch();\n\n  const { isAuth } = useAuth();\n  return (\n    <header className={style.header} id=\"header\">\n      <h1 className={style.gameName}>МАФІЯ</h1>\n      {isAuth && (\n        <Button\n          name={style.singUp}\n          text=\"Вийти\"\n          onClick={() => dispatch(removeUser())}\n        />\n      )}\n    </header>\n  );\n}\n","import { Redirect } from 'react-router-dom';\n// import { useDispatch } from 'react-redux';\nimport { useAuth } from 'hooks/use-auth';\n// import { removeUser } from 'store/slices/userSlice';\nimport { Header } from '../components/Header';\n\nconst HomePage = () => {\n  //   const dispatch = useDispatch();\n\n  const { isAuth } = useAuth();\n\n  return isAuth ? (\n    <div>\n      <Header />\n\n      <h1>Welcome to MAFIA</h1>\n    </div>\n  ) : (\n    <Redirect to=\"/login\" />\n  );\n};\n\nexport default HomePage;\n\n//   <button onClick={() => dispatch(removeUser())}>\n//     Log out from {email}\n//   </button>\n","import { useForm } from 'react-hook-form';\n\nconst Form = ({ handleClick }) => {\n  const {\n    register,\n    formState: { errors },\n    handleSubmit,\n    reset,\n  } = useForm({ mode: 'onBlur' });\n  const onSubmit = data => {\n    handleClick(data.email, data.password);\n    reset();\n  };\n  return (\n    <div className=\"App\">\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <label>\n          Email:\n          <input\n            {...register('email', {\n              required: \" поле обов'язкове до заповнення\",\n            })}\n          />\n        </label>\n        <div style={{ height: 40 }}>\n          {errors?.email && <p>{errors?.email?.message || 'Error!'}</p>}\n        </div>\n\n        <label>\n          Password:\n          <input\n            {...register('password', {\n              required: \" поле обов'язкове до заповнення\",\n            })}\n          />\n        </label>\n        <div style={{ height: 40 }}>\n          {errors?.password && <p>{errors?.passsword?.message || 'Error!'}</p>}\n        </div>\n        <input type=\"submit\" />\n      </form>\n    </div>\n  );\n};\n\nexport { Form };\n","import { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\n\nimport { getAuth, signInWithEmailAndPassword } from 'firebase/auth';\nimport { setUser } from 'store/slices/userSlice';\nimport { Form } from './Form';\n// import { Header } from './Header';\n\nconst Login = () => {\n  const dispatch = useDispatch();\n  const { push } = useHistory();\n\n  const handleLogin = (email, password) => {\n    const auth = getAuth();\n    signInWithEmailAndPassword(auth, email, password)\n      .then(({ user }) => {\n        console.log(user);\n        dispatch(\n          setUser({\n            email: user.email,\n            id: user.uid,\n            token: user.accessToken,\n          })\n        );\n        push('/');\n      })\n      .catch(() => alert('Invalid user!'));\n  };\n\n  return <Form handleClick={handleLogin} />;\n};\n\nexport { Login };\n\n// <>\n// <Header /> */</>;\n","import { Login } from 'components/Login';\nimport { Link } from 'react-router-dom';\nimport { Header } from '../components/Header';\n\nconst LoginPage = () => {\n  return (\n    <>\n      <Header />\n      <div>\n        <h1>Login</h1>\n        <Login />\n        <p>\n          Or <Link to=\"/register\">register</Link>\n        </p>\n      </div>\n    </>\n  );\n};\n\nexport default LoginPage;\n","import { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { getAuth, createUserWithEmailAndPassword } from 'firebase/auth';\nimport { setUser } from 'store/slices/userSlice';\nimport { Form } from './Form';\n\nconst SignUp = () => {\n  const dispatch = useDispatch();\n  const { push } = useHistory();\n\n  const handleRegister = (email, password) => {\n    const auth = getAuth();\n    createUserWithEmailAndPassword(auth, email, password)\n      .then(({ user }) => {\n        console.log(user);\n        dispatch(\n          setUser({\n            email: user.email,\n            id: user.uid,\n            token: user.accessToken,\n          })\n        );\n        push('/');\n      })\n      .catch(console.error);\n  };\n\n  return <Form handleClick={handleRegister} />;\n};\n\nexport { SignUp };\n","import { SignUp } from 'components/SignUp';\nimport { Link } from 'react-router-dom';\nimport { Header } from '../components/Header';\n\nconst RegisterPage = () => {\n  return (\n    <div>\n      <Header />\n      <h1>Register</h1>\n      <SignUp />\n      <p>\n        Already have an account? <Link to=\"/login\">Sign in</Link>\n      </p>\n    </div>\n  );\n};\n\nexport default RegisterPage;\n","import HomePage from 'pages/HomePage';\nimport LoginPage from 'pages/LoginPage';\nimport RegisterPage from 'pages/RegisterPage';\nimport { Switch, Route } from 'react-router-dom';\n\nfunction App() {\n  return (\n    <Switch>\n      <Route exact path=\"/\" component={HomePage} />\n      <Route exact path=\"/login\" component={LoginPage} />\n      <Route exact path=\"/register\" component={RegisterPage} />\n    </Switch>\n  );\n}\n\nexport default App;\n","import { initializeApp } from 'firebase/app';\n\nconst firebaseConfig = {\n  // apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\n  // authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\n  // projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n  // storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n  // messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\n  // appId: process.env.REACT_APP_FIREBASE_APP_ID\n  apiKey: 'AIzaSyCjURkTZP-hYQ003_umy1baP9wor83vepw',\n  authDomain: 'mafia-game-by-roman.firebaseapp.com',\n  databaseURL:\n    'https://mafia-game-by-roman-default-rtdb.europe-west1.firebasedatabase.app/',\n  projectId: 'mafia-game-by-roman',\n  storageBucket: 'mafia-game-by-roman.appspot.com',\n  messagingSenderId: '465612943644',\n  appId: '1:465612943644:web:ef0270733806ce0d7a4ad9',\n  measurementId: 'G-P4VCHM8991',\n};\n\nconst app = initializeApp(firebaseConfig);\nconsole.log(app);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\nimport { store } from 'store';\nimport App from './App';\nimport './index.css';\nimport './firebase';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}