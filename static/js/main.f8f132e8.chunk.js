(this["webpackJsonpreact-homework-template"]=this["webpackJsonpreact-homework-template"]||[]).push([[0],{37:function(e,t,n){e.exports={header:"Header_header__1VCKf",gameName:"Header_gameName__2EWC3",singIn:"Header_singIn__1khwA",singUp:"Header_singUp__2FCEJ"}},60:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var r=n(3),c=n.n(r),a=n(33),i=n.n(a),s=n(22),o=n(23),l=n(36),j=Object(l.b)({name:"user",initialState:{email:null,token:null,id:null},reducers:{setUser:function(e,t){e.email=t.payload.email,e.token=t.payload.token,e.id=t.payload.id},removeUser:function(e){e.email=null,e.token=null,e.id=null}}}),d=j.actions,b=d.setUser,u=d.removeUser,m=j.reducer,h=Object(l.a)({reducer:{user:m}}),O=n(14);function p(){var e=Object(o.c)((function(e){return e.user})),t=e.email;return{isAuth:!!t,email:t,token:e.token,id:e.id}}var x=n(37),f=n.n(x),g=n(8),v=function(e){var t=e.name,n=e.text,r=e.onClick;return Object(g.jsx)("form",{className:t,children:Object(g.jsx)("button",{type:"button",onClick:function(){return r()},children:n})})};function k(){var e=Object(o.b)(),t=p().isAuth;return Object(g.jsxs)("header",{className:f.a.header,id:"header",children:[Object(g.jsx)("h1",{className:f.a.gameName,children:"\u041c\u0410\u0424\u0406\u042f"}),t&&Object(g.jsx)(v,{name:f.a.singUp,text:"\u0412\u0438\u0439\u0442\u0438",onClick:function(){return e(u())}})]})}var y=function(){return p().isAuth?Object(g.jsxs)("div",{children:[Object(g.jsx)(k,{}),Object(g.jsx)("h1",{children:"Welcome to MAFIA"})]}):Object(g.jsx)(O.a,{to:"/login"})},w=n(30),_=n(7),C=n(46),I=function(e){var t,n,r=e.handleClick,c=Object(C.a)({mode:"onBlur"}),a=c.register,i=c.formState.errors,s=c.handleSubmit,o=c.reset;return Object(g.jsx)("div",{className:"App",children:Object(g.jsxs)("form",{onSubmit:s((function(e){r(e.email,e.password),o()})),children:[Object(g.jsxs)("label",{children:["Email:",Object(g.jsx)("input",Object(_.a)({},a("email",{required:" \u043f\u043e\u043b\u0435 \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u0434\u043e \u0437\u0430\u043f\u043e\u0432\u043d\u0435\u043d\u043d\u044f"})))]}),Object(g.jsx)("div",{style:{height:40},children:(null===i||void 0===i?void 0:i.email)&&Object(g.jsx)("p",{children:(null===i||void 0===i||null===(t=i.email)||void 0===t?void 0:t.message)||"Error!"})}),Object(g.jsxs)("label",{children:["Password:",Object(g.jsx)("input",Object(_.a)({},a("password",{required:" \u043f\u043e\u043b\u0435 \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u0434\u043e \u0437\u0430\u043f\u043e\u0432\u043d\u0435\u043d\u043d\u044f"})))]}),Object(g.jsx)("div",{style:{height:40},children:(null===i||void 0===i?void 0:i.password)&&Object(g.jsx)("p",{children:(null===i||void 0===i||null===(n=i.passsword)||void 0===n?void 0:n.message)||"Error!"})}),Object(g.jsx)("input",{type:"submit"})]})})},A=function(){var e=Object(o.b)(),t=Object(O.g)().push;return Object(g.jsx)(I,{handleClick:function(n,r){var c=Object(w.b)();Object(w.c)(c,n,r).then((function(n){var r=n.user;console.log(r),e(b({email:r.email,id:r.uid,token:r.accessToken})),t("/")})).catch((function(){return alert("Invalid user!")}))}})},U=function(){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(k,{}),Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:"Login"}),Object(g.jsx)(A,{}),Object(g.jsxs)("p",{children:["Or ",Object(g.jsx)(s.b,{to:"/register",children:"register"})]})]})]})},S=function(){var e=Object(o.b)(),t=Object(O.g)().push;return Object(g.jsx)(I,{handleClick:function(n,r){var c=Object(w.b)();Object(w.a)(c,n,r).then((function(n){var r=n.user;console.log(r),e(b({email:r.email,id:r.uid,token:r.accessToken})),t("/")})).catch(console.error)}})},N=function(){return Object(g.jsxs)("div",{children:[Object(g.jsx)(k,{}),Object(g.jsx)("h1",{children:"Register"}),Object(g.jsx)(S,{}),Object(g.jsxs)("p",{children:["Already have an account? ",Object(g.jsx)(s.b,{to:"/login",children:"Sign in"})]})]})};var E=function(){return Object(g.jsxs)(O.d,{children:[Object(g.jsx)(O.b,{exact:!0,path:"/",component:y}),Object(g.jsx)(O.b,{exact:!0,path:"/login",component:U}),Object(g.jsx)(O.b,{exact:!0,path:"/register",component:N})]})},H=(n(60),n(44)),P=Object(H.a)({apiKey:"AIzaSyCjURkTZP-hYQ003_umy1baP9wor83vepw",authDomain:"mafia-game-by-roman.firebaseapp.com",databaseURL:"https://mafia-game-by-roman-default-rtdb.europe-west1.firebasedatabase.app/",projectId:"mafia-game-by-roman",storageBucket:"mafia-game-by-roman.appspot.com",messagingSenderId:"465612943644",appId:"1:465612943644:web:ef0270733806ce0d7a4ad9",measurementId:"G-P4VCHM8991"});console.log(P),i.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(s.a,{children:Object(g.jsx)(o.a,{store:h,children:Object(g.jsx)(E,{})})})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.f8f132e8.chunk.js.map